# TCP/IP模型

**TCP/IP 参考模型（TCP/IP Reference Model）**的主要目标是：以无缝的方式将多个网络连接起来；即使在损失子网硬件的情况下网络还能够继续工作，原有的会话不能被打断。

## 模型结构

![image-20201115152705841](C:\Users\35116\AppData\Roaming\Typora\typora-user-images\image-20201115152705841.png)

## 涉及的协议

![image-20201115153950850](C:\Users\35116\AppData\Roaming\Typora\typora-user-images\image-20201115153950850.png)

## 链路层

模型中的最低层是链路层（link layer），该层描述了链路必须完成什么功能才能满足无连接的互联网络层的需求。**这不是真正意义上的一个层，而是主机与传输线路之间的一个接口。**

## 互联网层

互联网层（internet layer）是将整个网络体系结构贯穿在一起的关键层。它大致对应于OSI的网络层。

该层的任务是允许主机将数据包注入到任何网络，并且让这些数据包**独立地到达接收方**（接收方可能在不同的网络上）。甚至数据包的到达顺序与它们被发送的顺序不同，在这种情况下，如果需要按序递交数据，那么**重新排列这些数据包的任务由高层来负责完成**。

互联网层定义了官方的数据包格式和协议，该协议称为**因特网协议（IP，Internet Protocol）**，与之相伴的还有一个辅助协议，称为**因特网控制报文协议（ICMP，Internet Control Message Protocol）**。互联网层的任务是将 IP 分组投递到它们该去的地方。很显然，**数据包的路由是这里最主要的问题**，同时该层还要考虑**拥塞控制问题（尽管没有证据表明 IP 能有效地避免拥塞）**。

## 传输层

位于互联网层之上的那一层。

它的设计目标是允许源主机和目标主机上的对等实体进行对话，犹如 OSI 的传输层一样。

### 定义的两个p2p传输协议

#### TCP

**传输控制协议（TCP，Transport Control Protocol）**，它是一个**可靠的、面向连接的协议**，允许从一台机器发出的字节流正确无误地交付到互联网上的另一台机器。

它把输入的字节流分割成离散的报文，并把每个报文传递给互联网层。在目标机器，接收 TCP 进程把收到的报文重新装配到输出流中。TCP 还负责处理流量控制，以便确保一个快速的发送方不会因发送太多的报文而淹没掉一个处理能力跟不上的慢速接收方。

#### UDP

**用户数据报协议（UDP，User Datagram Protocol）**，它是一个**不可靠的、无连接协议**，适用于那些不想要 TCP 的有序性或流量控制功能，而宁可自己提供这些功能的应用程序。

## 应用层

在传输层之上是**应用层（application layer）**，它包含了所有的高层协议，包括所需的任何会话和表示功能。

最早的高层协议包括**虚拟终端协议（TELNET）**、**文件传输协议（FTP）**和**电子邮件协议（SMTP）**等。 经过了这么多年的发展以后，许多其他协议被加入到了应用层。